# JAVASCRIPT 기초 PAR2

■ 5장 함수와 이벤트

★ 함수란

함수(function)을 사용하면 무엇이 좋을까?

- 각 명령의 시작과 끝을 명확하게 구별할 수 있다.
- 함수에 별도의 이름을 붙이면 같은 기능이 필요할 때마다 해당 함수를 실행할 수 있다.
- function 예약어를 사용하고, {} 안에 실행할 명령을 작성
    
    함수선언(함수 정의)
    
- 함수가 어떤 명령을 처리해야 할지 미리 알려주는 것.

함수호출(함수 실행)

```jsx
function addNumber(){
	var sum = 10+20;
	console.log(sum);
}

addNumber()
30
```

- 함수 이름을 사용해 함수 실행
- 함수를 실행하기 위해 필요하다고 지정하는 값
- 함수를 선언할 때 함수 이름 옆의 괄호 안에 매개벼누 이름을 넣음

```jsx
function addNumber(a, b){ < --- 매개변수
	var sum = a+b;
	console.log(sum);
}   
```

인수(argument)

- 함수를 실행하기 위해 필요하다고 지정하는 값
- 함수를 실행할 때 매개변수로 넘겨주는 값

```jsx
addNumber(2, 3) <-- 인수
addNumber(10, 20) <-- 인수
```

return문

- 함수를 실행할 결과값을 함수 밖으로 넘기는 문
- 반환된 값은 함수를 호출한 곳으로 넘어감.

★ 변수의 적용 범위

스코프(scope)

- 변수를 선언하고 사용할 때 변수가 적용되는 범위

지역변수(local variable)

- 변수를 선언한 함수에서만 사용할 수 있는 변수
- 함수 안에서 변수를 선언할 때 var 예약어 사용

전역함수(global variable)

- 스크립트 소스 전체에서 사용할 수 있는 변수
- 함수 밖이라면 var 예약어를 사용해서 변수 선언
- 함수 내에서 전역 변수를 선언하려면 var 예약어 없이 선언

★ 익명함수와 즉시실행함수

익명함수(무명함수, anonymous function)

- 이름이 없는 함수
- 함수 자체가 식이기 때문에 함수를 변수에 할당하거나 다른 함수의 매개변수로 사용 가능하다.

즉시실행함수

- 함수를 정의함과 동시에 실행하는 함수
- 즉시 실행 함수는 변수에 할당이 있고, 함수에서 반환하는 값을 변수에 할당할 수 있음.

★ 이벤트(event)란?

이벤트란

- 웹브라우저나 사용자가 행하는 동작, 웹 요소를 클릭을 한다던지 마우스가 이동한다던지 등...
- 사용자가 웹 문서 영역을 벗어나 하는 동작은 이벤트가 아니다. ( 브라우저 창의 제목 표시줄을 클릭하는 경우 )

마우스이벤트

| 속성 | 설명 |
| --- | --- |
| click | 사용자가 마우스로 눌렀을 때 |
| dbclick | 사용자가 마우스로 두번 눌렀을 때 |
| mousedown | 사용자가 마우스 버튼을 누르는 동안 |
| mousemove | 사용자가 마우스포인터를 움직일 때 |
| mouseover | 마우스포인터가 위로 옮겨질 때 |
| mouseout | 마우스 포인터가 요소를 벗어날 때 |
| mouseup | 사용자가 누르던 마우스버튼에서 손을 땔 때 |

키보드이벤트

| 속성 | 설명 |
| --- | --- |
| keypress | 사용자가 키를 눌렀을 때 |
| keydown | 사용자가 키를 누르는 동안 |
| keyup | 사욘자가 키에서 손을 때면 |

폼 이벤트

| 속성 | 설명 |
| --- | --- |
| blur | 폼 요소에 포커스를 잃었을 때 |
| change | 목록이나 체크 상태 등이 변경되었을 때 발생 |
| focus | 포커스가 높였을 때 이벤트 발생 |
| reset | 폼이 다시 시작되었을 때 |
| submit | submit 버튼을 눌렀을 때 이벤트 발생 |

문서로딩 이벤트

| 속성 | 설명 |
| --- | --- |
| abort | 웹 문서가 완전히 로딩되기 전 불러오기를 멈췄을 때 |
| error | 문서가 정확히 로딩되지 않았을 때 |
| load | 문서 로딩이 끝나면 발생 |
| resize | 문서 화면 크기가 바뀌었을 때 |
| scroll | 문서 화면이 스크롤 되었을 때 |
| unload | 문서를 벗어날 때 |

■ 6장 함수의 종류

★ 함수의 분류

함수는 크게 두가지 분류로 나눈다.

- 사용자 정의 함수
    - 사용자가 필요한 기능을 직접 만든 함수를 말한다.
- 자바스크립트 코어 함수
    - 자바스크립트가 기본적으로 제공하는 함수를 코어함수라고 한다.
    - parseInt(), Math.random() 등등

★ 함수는 사용방법에 따라 아래와 같이 나눌 수 있다.

- 일반함수
    - 가장 일반적으로 사용한 함수를 지칭한다.
- 중첩합수
    - 함수 안에 함수가 있는 경우 중첩되었다고 하며 함수안에 있는 함수를 중첩함수라고 말한다.
        
        ```jsx
        function outter(){
        	function inner(){
        		document.write("inner()호출됨")
        	}
        	inner();
        }
        outter();
        ```
        
    - 내부 전용 함수
        - 중첩함수는 함수 내부의 지역변수처럼 함수 내부에서만 사용할 수 있다. 즉 함수 내부에서만 사용하는 기능을 중첩함수로 만들어 사용하는 것이다.
    - 일반적으로 중첩함수는 이름이 없는 이벤트 리스너로 많이 활용된다.
    - 이벤트 리스너 예
    
    ```jsx
    $(document).ready(function(){
    	$("#btnStart").click(function(){
    		alert("안녕?");
    	})
    });
    ```
    
    - 중복코드 또는 그룹화
        - 함수 내부의 커다란 기능이나 중복 코드를 내부함수로 만들어 재사용 할 때도 중첩함수를 사용한다. 아울러 중첩함수는 외부함수와 내부함수의 아주 밀접한 관계일 때 사용하는 것이 좋다.
    - 중첩함수와 중첩함수를 포함한 함수와의 관계
        - 중첩함수에서 중첩함수를 포함하고 있는 함수의 지역변수에 접근해서 사용할 수 있다.
- 콜백함수
    - 함수 실행결과 값을 리턴이 아닌 매개변수로 넘어온 함수를 호출해서 넘겨주는 방식을 콜백이라고 하며 이때 매개변수로 넘어온 함수를 콜백함수라고 한다.
    - 콜백함수란?
        - 콜백함수는 주로 함수 내부의 처리 결과값을 함수 외부로 내보낼 때 사용한다. 일종의 리턴문과 비슷한 기능을 한다.
    - 콜백함수를 사용하는 구조는 특정함수의 매개변수 값으로 콜백함수를 넘긴 후 처리결과를 콜백 함수로 매개변수에 담아 콜백 함수를 호출하는 구조를 가지고있다. 이에따라 로직 구현부분은 동일하고 로직 처리부분을 다양하게 처리해야 하는 경우 유용하게 사용한다.
    - 동기 그리고 비동기란?
        - 콜백함수를 이해하기 위해 동기와 비동기의 개념을 확실하게 알아야 한다.
            - 동기(synchronize) : 일반적으로 함수가 호출된 후 끝날 때까지 다음 구문을 실행하지 않고 대기하는 것을 말한다.
            - 비동기(unsynchronize) : 함수가 호출된 후 끝날때까지 기다리지 않고 다음 구문을 바로 실행한다.
        - 동기 비동기의 개념을 알아야 하는 이유는 바로 콜백 함수가 주로 비동기 함수의 결과값을 처리하기 위한 방법으로 주로 사용되어지기 때문이다.
        - 실무에서 콜백 함수는 다음과 같은 경우에 많이 사용된다.
            - 이벤트 리스너로 사용(버튼을 클릭 등)
            - 타이머를 실행 함수로 사용(특정 시간마다 실행하는 경우)
            - 서버와 데이터를 주고받을 때 jquery ajax 등 기능에서 결과물을 받을때(서버접속, db접속 등)
            - jquery 애니메이션 기능에서 애니메이션이 모두 끝났을 때 실행하고자 하는 함수
            - 즉.... 위와 같이 콜백 함수는 로직 구현 부분과 로직 처리 부분을 나누어 작업할때 사용하는 것이다.
- 클로저함수
    - 일반적인 함수의 경우 함수 호출에 의해 함수 내부의 실행고문을 모두 실행하게 되면 함수 내부엣 만든 지역변수가 자동으로 사라지지만 어떤경우에는 사라지지않고 남는 경우가 존재하는데 이 현상을 클로저라고 하며 이 현상을 일으키는 함수를 클로저 함수라고 한다.
    - 클로저는 함수 내부에 만든 지역변수가 사라지지 않고 계속 값을 유지하고 있는 상태를 말한다.
    - 일반 지역 변수의 경우 함수 호출이 완료되면 사라지는게 원칙이다. 하지만 클로저를 이용하면 함수 호출 완료 후에도 사라지는 지역변수를 사라지지 않는 데이터 저장소로 만들 수 있다.
    - 변수가 메모리에서 제거되지 않고 계속해서 값을 유지하는 상태를 가지게 된다.
    - 강조> 클로저 변수가 사라지지 않고 계속해서 값을 유지하는 상태를 모두 클로저라고 한다.
    - 클로저의 장점
        - 연관 있는 변수와 기능(중첩 함수)를 하나의 함수로 묶어서 독립적으로 실행할 수 있다.
        - 즉 함수내부에 데이터가 만들어지기 때문에 함수 외부에서 수정할 수 없는 보호된 데이터를 만들 수 있는 것이다.
        - 이런 형태의 데이터 객체지향 프로그래밍에서는 private데이터 즉 캡슐화 된 데이터라고 부른다.
        
        ```jsx
        function tabMenu(selector){
        	// 선택 한 탭메뉴를 저장할 변수
        	var $selectMenuItem = null;
        	// 메뉴 항복에 클릭 이벤트 등록
        	if($selectMenuItem != null){
        		// 기존 선택메뉴 항복이 잇으면 비 선택 상태로 만들기
        		$selectMentItem.removeClass("select");
        	}
        	// 클릭한 메뉴 항목을 신규 선택 메뉴 항목으로 저장
        	$selectMenuItem = $(this);
        	// 선택 상태로 만들기
        	$selecMenuItem.addClass("select");
        ```
        
        클로저를 사용하여 메뉴 선택 시 그 값을 계속 유지
        
        ■ 7장 자바스크립트 코어 라이브러리1
        
        ★ 자바스크립트 코어(핵심) 라이브러리란?
        
        자바스크립트 코어 라이브러리는 자바스크립트가 개발자를 위해 기본적으로 제공해주는 기능을 말한다. 개발자는 이 기능을 이용하여 개발을 하고 또한 개발자만의 고유 라이브러리를 만들 수 있다.
        
        ★ 타이머 함수
        
        - 타이머 함수란?
            - 타이머 함수는 일정한 시간마다 특정 구문을 실행하고자 할 때 사용하는 기능이다.
            
        - 타이머 함수의 실무에서의 활용
            - 이미지 슬라이더에서 일정한 시간마다 이미지가 자동으로 슬라이드 되는 기능
            - 롤링배너에서 일 시간마다 배너를 변경하는 기능
            - 일정 시간마다 자동으로 변경되는 실시간 검색어 기능
            - 게임에서 플레이 시간을 나타내는 기능
            
        - 타이머 함수의 종류
            - setInterval() : 일정시간마다 주기적으로 특정 구문을 실행하는 기능
            - setTimeout() : 일정 시간이 지난 후 특정 구문을 딱 한번 실행하는 기능
            - clearInterval() : 실행 중인 타이머 함수를 멈추는 기능
            
        - 타이머 함수는 모두 전역 객체인 window 에 포함되어 있다.
        
        ★ 타이머 함수의 핵심 내용
        
        - 일정 시간마다 특정 구문을 실행하는 타이머 만들기
            - 일정 시간마다 특정 구문을 실행하기 위해선 setinterval 함수를 사용한다.
            - 사용법 ⇒ var timerID = setInterval(func, duration);
            - 매개변수
                - func : 지연 시간마다 타이머 함수에 의해 호출되는 일종의 콜백함수이다.
                - duration : 지연시간, 단위는 밀리초이다.
            - 리턴값은 생성된 타이머 id 이다. 이 ID는 실행한 타이머 함수를 멈출떄도 사용한다.
            - 아래와 같이 1초마다 숫자가 증가하는 프로그램을 만들수 있다.
            
        - 일정 시간 지난 후 , 딱 한번 실행되는 타이머 만들기
            - 일정 시간 지난 후, 딱 한번 특정 구문을 실행하기 위해선 setTimeout 함수를 사용한다.
            - 사용법 ⇒ var timerID = setTimeout(func, duration);
            - 매개변수
                - func : 지연 시간마다 타이머 함수에 의해 호출되는 일종의 콜백함수이다.
                - duration : 지연시간, 단위는 밀리초이다.
            - 리턴값은 생성된 타이머 ID 이다. 이 ID 는 실행한 타이머 함수를 멈출때도 사용한다.
            - 5초후 안녕하세요 를 출력하는 프로그램을 만들 수 있다.
            
        - 타이머 멈추기
            - setInterval , setTimeout 함수를 이용하여 생성한 타이머는 clearInterval 함수를 이용해서 멈춘다.
            - 사용법 ⇒ clearInterval(timerID);
            - 매개변수
                - timerID : 제거할 타이머 ID 이다.
                - 리턴값은 없다.
            - 변수값을 1초에 한번씩 증가시키고 값을 출력한 뒤 정지를 누르면 실행하지 않는 프로그램을 만들 수 있다.
            
        
        ★ Math 클래스
        
        - Math 클래스의 용도
            - Math클래스에는 숫자를 랜덤하게 생성하는 긴으인 사인 코사인과 같은 수학 관련 기능이 담겨있다.
        - Math 클래스의 실무에서의 기능
            - 배너나 이미지 슬라이더의 컨텐츠를 랜덤으로 보여줄 때 Math.random 함수를 이용한다.
            - 컨텐츠의 위치를 무작위로 설정할 때도 Math.random 함수를 이용한다.
            - 게시판의 페이지 수를 구할 때 Math.ceil 함수를 이용한다.
            - 이미지 갤러리 제작 시 이미지를 곡선을 따라 나열하고 싶을 때 Math.sin 함수를 사용한다.
            
        
        ★ Math 클래스의 주요 기능
        
        - 프로퍼티
            - pi : 원주율 값
            - 함수 메서드 목록
                - abs : 절대값을 반환
                - acos : 아크코사인 값을 반환
                - asin : 아크사인 값을 반환
                - atan : 아크탄젠트 값을 반환
                - atan2 : x축과 주어진 점이 이루는 각도를 라디안값으로 반환
                - ceil : 올림값을 반환
                - cos : 코사인 값을 반환
                - floor : 숫자의 버림값을 반환
                - log : 자연로그 값을 반환
                - max : 두수중 큰값을 반환
                - min : 두수중 작은값을 반환
                - random : 0과1사이의 난수 값을 반환
                - round : 가장 가까운 정수를 반올림하거나 반내림한 값반환
                - sin : 사인값을 반환
                - sqrt : 제곱근을 반환
                - tan : 탄젠트 값을 반환
            - Math 클래스는 다른 자바스크립트 코어 클래스와는 달리 대부분의 기능이 클래스 메서드(정적메서드)로 구현되어 있어 인스턴트 생성 없이 바로 사용할 수 있다는 장점을 가지고 있다.
        
        ★ Math 클래스의 핵심 내용
        
        - 랜덤 숫자 만들기
            - Math클래스에서 제공하는 random 메서드를 이용한다.
            - 사용법 ⇒ var num = Math.random()*범위값;
            - 매개변수 없음
            - 리턴값 0.0 이상 1.0 미만의 소수 값
        
        - 작은값, 큰값 알아내기
            - Math 클래스에서 제공하는 Math.max , Math.min 메서드를 이용
            - 사용법 ⇒ var max = Math.max(num1, num2);
            - 매개변수 : num1, num2 의 비교할 숫자 값
            - 리턴값 : 두개의 값중 큰 값을 리턴
            - 사용법 ⇒ var min = Math.min(num1, num2)
            - 매개변수: nu1, num2 의 비교할 숫자 값
            - 리턴값: 두개의 값중 작은 값을 리턴
            
        - 숫자 내림값, 올림값 구하기
            - Math 클래스에서 제공하는 Math.floor , Math.ceil 메서드를 이용한다.
            - 사용법 ⇒ var result = Math.floor(num);
            - 매개변수 :  num 실수 값
            - 리턴값 : 입력 값이 실수인 경우 내림한 정수 값
            - 사용법 ⇒ var result = Math.ceil(num);
            - 매개변수: num실수 값
            - 리턴값: 입력 값이 실수인 경우 올림한 정수 값